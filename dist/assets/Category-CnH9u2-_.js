import{r as l,b as w,j as e,L as x,C as p,H as k,g as S,p as y}from"./index-BcQPqDNb.js";const P=()=>{const[u,f]=l.useState([]),[_,z]=l.useState(""),[F,$]=l.useState(!1),[g,m]=l.useState(!0),s=window.localStorage.getItem("lang"),[i,h]=l.useState(null),o=w().pathname.split("/")[2],[r,j]=l.useState(()=>JSON.parse(localStorage.getItem("likedProducts"))||[]),d=localStorage.getItem("sl_option_nav")=="Story Baza №1"?0:localStorage.getItem("sl_option_nav")=="Mebel"?1:2;l.useEffect(()=>{(async()=>{try{m(!0);const[a,c]=await Promise.all([S(o),y(d)]);h(a),f(c.filter(n=>n.category==o))}catch(a){console.error("Error fetching data:",a)}finally{m(!1)}})()},[o,d]);const N=s=="uz"?"so'm":s=="en"?"uzs":s=="ru"?"сум":"so'm",v=t=>{const a=r.includes(t)?r.filter(c=>c!==t):[...r,t];j(a),localStorage.setItem("likedProducts",JSON.stringify(a))};return e.jsx("div",{className:"w-full mb-[0px] sm:mb-[100px] flex flex-col items-center",children:e.jsxs("div",{className:"mt-[0px] sm:mt-[50px] flex flex-col w-full sm:w-[1440px] m-auto h-auto sm:px-[77px] mb-[100px] sm:mb-[0]",children:[e.jsx("div",{className:"hidden sm:block",children:e.jsxs(x,{className:"w-full flex items-center gap-[10px]",to:"/",children:[e.jsx(p,{className:"scale-110"}),e.jsx("h1",{className:"font-inter font-[500] text-[32px] leading-[45px] text-black",children:i==null?void 0:i[`name_${s}`]})]})}),e.jsx("div",{className:"sticky top-0 z-50 block sm:hidden",children:e.jsx("div",{className:"w-full h-[65px] bg-[#DCC38B]",children:e.jsxs(x,{className:"w-full h-full flex items-center gap-[10px] pl-[13px]",to:"/",children:[e.jsx(p,{className:"scale-110"}),e.jsx("h1",{className:"font-inter font-[500] text-[15px] leading-[22px] text-black",children:i==null?void 0:i[`name_${s}`]})]})})}),g?e.jsx("div",{className:"flex justify-center items-center w-full h-[200px]",children:e.jsx("div",{className:"loader"})}):e.jsx("div",{className:"mt-[20px] px-[15px] grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-[10px] sm:gap-x-[20px] gap-y-[15px] sm:gap-y-[30px]",children:u.map((t,a)=>{var c,n;return e.jsx("div",{className:"cursor-pointer",children:e.jsxs(x,{to:`/product/${t.id}`,children:[e.jsx("div",{className:"rounded-[10px] w-[160px] h-[160px] sm:w-[245px] sm:h-[245px] bg-[#F2F2F1] overflow-hidden group",children:e.jsx("img",{src:`https://back.stroybazan1.uz/${t.image}`,className:"object-cover w-full h-full transition-transform group-hover:scale-105",alt:t[`name_${s}`]})}),e.jsxs("div",{className:"flex flex-row items-end w-[165px] sm:w-[245px] justify-between mt-1.5 px-3",children:[e.jsxs("div",{className:"flex flex-col sm:gap-1",children:[e.jsx("h1",{className:"text-black truncate font-semibold text-[14px] sm:text-[16px]",children:t[`name_${s}`]}),e.jsx("p",{className:"text-black text-[12px] sm:text-[14px]",children:(n=(c=t.variants)==null?void 0:c[0])!=null&&n.price?`${s=="uz"?"Narxi":s=="en"?"Price":s=="ru"?"Цена":"Narxi"}: ${parseFloat(t.variants[0].price).toFixed(2)} ${N}`:s=="uz"?"Narxi mavjud emas":s=="en"?"Price not available":s=="ru"?"Цена не доступна":"Narxi mavjud emas"})]}),e.jsx(k,{className:"w-[19px] h-[19px] sm:w-[28px] sm:h-[28px] text-[#FF0000] cursor-pointer mb-0.5",fill:r.includes(t.id)?"#FF0000":"none",onClick:b=>{b.preventDefault(),v(t.id)}})]})]})},a)})})]})})};export{P as default};
